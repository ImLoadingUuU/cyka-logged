var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.createTemplateTagFirstArg=function(a){return a.raw=a};$jscomp.createTemplateTagFirstArgWithRaw=function(a,b){a.raw=b;return a};
var i_email=getElement("i_email"),i_password=getElement("i_password"),i_password_confirm=getElement("i_password_confirm"),i_domain_type_own=getElement("i_domain_type_own"),i_domain_type_sub=getElement("i_domain_type_sub"),i_custom_domain=getElement("i_custom_domain"),i_subdomain=getElement("i_subdomain"),i_extension=getElement("i_extension"),i_captcha_solution=getElement("i_captcha_solution"),s_success=getElement("s_success"),s_processing=getElement("s_processing"),s_signup_form=getElement("s_signup_form"),
s_custom_domain=getElement("s_custom_domain"),s_subdomain=getElement("s_subdomain"),s_others=getElement("s_others"),a_response=getElement("a_response"),a_success_link=getElement("a_success_link");(function(){setTimeout(function(){i_email.focus()},300)})();
function udt(a){s_others.classList.remove("hidden");"i_domain_type_own"==a.target.id?(s_custom_domain.classList.remove("hidden"),s_subdomain.classList.add("hidden"),i_custom_domain.focus()):(s_subdomain.classList.remove("hidden"),s_custom_domain.classList.add("hidden"),i_subdomain.focus())}document.querySelectorAll("input[name='domain_type']").forEach(function(a){a.addEventListener("change",udt)});
function csv(){var a=i_subdomain.value;if(4>a.length||16<a.length)return usi(__("Subdomain must be between 4 to 16 characters in length.")),!1;if("-"===a[a.length-1])return usi(__("Hypens are not allowed at the end of subdomain.")),!1;if(!/^(?:[A-Za-z0-9]+-)*[A-Za-z0-9]+$/.test(a))return usi(__("Only alphanumeric characters and hyphens are allowed.")),!1;usi();return!0}
function usi(a){(a=void 0===a?!1:a)&&"string"===typeof a?getElement("infobox_subdomain").innerHTML='<span style="color:red;">'+a+"</span>":(a=i_subdomain.value,getElement("infobox_subdomain").innerHTML=""!==a?__("Your website will be available at")+" <b>"+a+"."+getElement("i_extension").value+"</b>":__("Choose a subdomain and extension"))}i_subdomain.addEventListener("input",csv);getElement("i_extension").addEventListener("change",usi);
function bsc(){if(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(i_email.value).toLowerCase()))checkPassed(i_email);else return hasError(i_email,__("Please enter a valid email address.")),!1;if(6>i_password.value.length||20<i_password.value.length)return hasError(i_password,__("Password must be between 6 to 20 characters in length.")),!1;checkPassed(i_password);if(i_password.value!==
i_password_confirm.value)return hasError(i_password_confirm,__("Passwords do not match. Please re-enter your password.")),!1;checkPassed(i_password_confirm);var a=document.querySelector('[name="domain_type"]:checked');if(!a)return hasError(i_domain_type_sub,__("Please select an option.")),!1;checkPassed(i_domain_type_sub);if("custom"===a.value)if(/^(?!:\/\/)([a-zA-Z0-9]+\.)?[a-zA-Z0-9][a-zA-Z0-9-]+\.[a-zA-Z]{2,6}?$/i.test(String(i_custom_domain.value).toLowerCase()))checkPassed(i_custom_domain);else return hasError(i_custom_domain,
__("Please enter a valid domain name.")),!1;else{if(!csv())return hasError(i_subdomain,__("Please enter a valid subdomain name.")),!1;checkPassed(i_subdomain)}if(5!==i_captcha_solution.value.length)return hasError(i_captcha_solution,__("Please enter a captcha with 5 characters.")),!1;checkPassed(i_captcha_solution);return!0}
function sa(a,b){b=void 0===b?"danger":b;a_response.innerText=a;a_response.classList.remove("alert-success","alert-danger","alert-warning");a_response.classList.add("alert-"+b);a_response.classList.remove("hidden")}function hideAlert(){a_response.classList.add("hidden")}
function handleSubmit(){if(!bsc())return!1;hideAlert();s_signup_form.classList.add("hidden");s_processing.classList.remove("hidden");var a=new FormData(s_signup_form);fetch("/auth/api/signup",{method:"POST",body:a}).then(function(b){if(200!=b.status)throw Error(__("Bad Server Response"));return b.text()}).then(function(b){return hr(JSON.parse(b))})["catch"](function(b){sa(__("Something went wrong, please try again later.")+"\n"+b)})["finally"](function(b){s_processing.classList.add("hidden")});
return!1}function hr(a){"error"===a.status?("undefined"!==typeof a.message&&sa(a.message),"undefined"!==typeof a.details&&"undefined"!==typeof a.details.field&&hasError(getElement("i_"+a.details.field),a.message),s_signup_form.classList.remove("hidden")):"success"===a.status&&(a_success_link.href="https://ifastnet.com/resend_email.php?email="+i_email.value+"&token="+a.details.token,s_success.classList.remove("hidden"))};